%define prefix /usr

Name:         openmodeller
License:      GPL
Group:        Libraries/Research
Autoreqprov:  on
Version:      @VERSION@
Release:      0
Source:       %{name}-%{version}.tar.gz
Url:          http://openmodeller.cria.org.br
Summary:      Static Spatial Distribution Modelling Tool
BuildRoot:    %{_tmppath}/%{name}-%{version}-build

%description
openModeller is an open source static spatial distribution modelling tool
developed by CRIA as part of the speciesLink project (funded by Fapesp, the
State of Sao Paulo Research Foundation). It is being used to predict species
distribution (fundamental niche). Models are generated by an algorithm that
receives as input a set of occurrence points (latitude/longitude) and a set
of environmental layer files. It's being written in C++ ANSI with platform
independence in mind. It accepts different algorithms (now Bioclim and
simple cartesian distance algorithms, but in the near future GARP, Climate
Space Model, GAM, GLM, Neural Nets, etc). It uses GDAL to read several map
file formats and proj4 to convert between different georeferential systems
and projections. A client-server architecture will be used as a first
approach, enabling the existence of different client interfaces (desktop,
command line and web based). In the future some tasks could be performed in
a distributed way, including the possibility of running separately the
algorithms in remote cluster machines.

%package devel
Requires:     %{name} = %{version}
Group:        Development/Libraries/C and C++
Summary:      Static Spatial Distribution Modelling Tool - Development Files

%description devel
Include files and libraries to link programs against openModeller
or develope own algorithms. 

%prep
%setup
autoreconf --force --install

%build
CFLAGS="$RPM_OPT_FLAGS -fPIC" \
./configure \
                --mandir=%{_mandir} \
                --prefix=%{prefix} \
                --infodir=%{_infodir} \
                --sysconfdir=%{_sysconfdir} \
		--libdir=%{_libdir}
make

%install
rm -rf $RPM_BUILD_ROOT
make DESTDIR=$RPM_BUILD_ROOT install

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
/usr/bin/*
%{_libdir}/libopenmodeller.so.*
%dir %{_libdir}/openmodeller
%{_libdir}/openmodeller/*so*
%doc AUTHORS COPYING ChangeLog README INSTALL NEWS

%files devel
%defattr(-,root,root)
%{_libdir}/libopenmodeller.*a
%{_libdir}/libopenmodeller.so
%{_libdir}/openmodeller/*a
%dir %{prefix}/include/openmodeller
%{prefix}/include/openmodeller

%changelog -n openmodeller
* Wed Mar 24 2004 - Jens Oberender <j.obi@troja.net>
- initial build
